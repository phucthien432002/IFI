<template>
  <v-app dark>
    <header>
      <div id="header">
        <div class="header-bar">
          <div class="logo-placeholder">
            <img class="logoimg1" src="/images/Header/iFi-logos_Simple.png" alt="" />
            <div class="dropbtn">
              <i class="fa-solid fa-bars"></i>
            </div>
          </div>
          <div class="navigation-placeholder">
            <div class="product-list">
              <h3>Products</h3>
              <div class="dropdown-menu">
                <a href="">Home audio</a>
                <a href="">Protable Audio</a>
                <a href="">Power</a>
                <a href="">Enhancers</a>
                <a href="">Cables</a>
                <a href="">Accessoris</a>
              </div>
              <!-- <div class="product-list">
                            <a href=""><h2>Home audio</h2> </a>
                            <a href=""><h2>Protable Audio</h2> </a>
                            <a href=""><h2>Power</h2></a>
                            <a href=""><h2>Enhancers</h2></a>
                            <a href=""><h2>Cables</h2></a>
                            <a href=""><h2>Accessoris</h2></a>
                    </div> -->
            </div>
            <div class="tool-box">
              <h3>Tools</h3>
              <div class="dropdown-menu">
                <a href="https://ifi-audio.com/home/compare-ifi-products/" target="_blank"
                  >Compare</a
                >
                <a href="https://ifi-audio.com/home/headphone-calculator/" target="_blank"
                  >Headphone Calculator</a
                >
                <a href="https://ifi-audio.com/home/iphono-calculator/" target="_blank"
                  >iPhono Calculator</a
                >
                <a href="https://ifi-audio.com/home/power-calculator/" target="_blank"
                  >Power Calculator</a
                >
                <a href="https://ifi-audio.com/home/led-calculator/" target="_blank"
                  >LED Calculator</a
                >
                <a href="https://ifi-audio.com/home/sound-improvement/" target="_blank"
                  >Sound Improvement</a
                >
                <a
                  href="https://ifi-audio.com/home/computer-audio-tutorial/"
                  target="_blank"
                  >Computer Audio Tutorial</a
                >
              </div>
            </div>

            <div class="support-box">
              <h3>Support</h3>
              <div class="dropdown-menu">
                <a href="https://ifi-audio.com/support/faq/" target="_blank">FAQs</a>
                <a href="https://ifi-audio.com/support/product-guides/" target="_blank"
                  >Product Guides</a
                >
                <a href="https://ifi-audio.com/support/download-hub/" target="_blank"
                  >Download Hub</a
                >
                <a
                  href="https://ifi-audio.com/support/product-registration/"
                  target="_blank"
                  >Registration</a
                >
                <a href="https://support.ifi-audio.com/" target="_blank">Support</a>
                <a href="https://ifi-audio.com/where-to-buy/" target="_blank"
                  >Where to Buy</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="main1">
      <div id="slider">
        <div class="list">
          <div class="item active">
            <div class="slogan-placeholder">
              <h1>Welcome to iFi audio</h1>
              <span
                >We passionately believe that everyone deserves the best when it comes to
                sound. Our products are made to high technological standards to give you
                an authentic, passionate and empowering music experience. Hear it. Feel
                it.</span
              >
              <a class="take-tour-button">Take a tour</a>
            </div>
            <img src="../static/images/Header/ifi-sig (2).png" alt="" />
          </div>
          <a class="item" href="https://3kshop.vn/ifi-lan-isilencer/" target="_blank">
            <div class="product-info new">
              <h1>LAN iSilencer</h1>
              <h2>Your network. Silenced.</h2>
              <span>No more distorted audio signal</span>
            </div>
            <img src="../static/images/Header/DSCF5033.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-go-bar/" target="_blank">
            <div class="product-info">
              <h1>GO bar</h1>
              <h2>Best bar none.</h2>
              <span
                >Premium USB DAC. World's most powerful headphone amp of its size</span
              >
            </div>
            <img src="../static/images/Header/go-bar-hero.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-go-link/" target="_blank">
            <div class="product-info new">
              <h1>GO link</h1>
              <h2>The headphone dongle linking you with your music</h2>
              <span>Superior sound with a twist</span>
            </div>
            <img src="../static/images/Header/GO-link-1.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-go-pod/" target="_blank">
            <div class="product-info new">
              <h1>GO pod</h1>
              <h2>World-class. Wireless</h2>
              <span>Wearable HD Bluetooth DAC and headphone amp</span>
            </div>
            <img src="../static/images/Header/go-pod-hero.jpg" alt="" />
          </a>
          <a
            class="item"
            href="https://3kshop.vn/ifi-gioi-thieu-zen-dac-signature-va-zen-can-signature-phien-ban-dac-biet/"
            target="_blank"
          >
            <div class="product-info sale">
              <h1>ZEN CAN Signature Set MZ99 & Meze 99 Classics</h1>
              <h2>Limited Time Offer - Save up to 25%</h2>
            </div>
            <img src="../static/images/Header/mz99-meze-set.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-neo-stream/" target="_blank">
            <div class="product-info">
              <h1>NEO Stream</h1>
              <h2>Network audio streamer</h2>
              <span>Built by passionate enthusiasts, for passionate enthusiasts</span>
            </div>
            <img src="../static/images/Header/neos1.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-uno/" target="_blank">
            <div class="product-info new">
              <h1>uno</h1>
              <h2>The new sonic supercharger from iFi</h2>
              <span>Bigger. Bolder. Better Sound.</span>
            </div>
            <img src="../static/images/Header/uno-hero.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-xdsd-gryphon/" target="_blank">
            <div class="product-info">
              <h1>xDSD Gryphon</h1>
              <h2>A hi-fi system in your pocket</h2>
              <span>Premium HD DAC + Powerful Balanced headamp</span>
            </div>
            <img src="../static/images/Header/xdsd-g-hero.jpg" alt="" />
          </a>
          <a class="item" href="https://3kshop.vn/ifi-zen-air-blue/" target="_blank">
            <div class="product-info">
              <h1>ZEN Air Blue</h1>
              <h2>Let the Air in.</h2>
              <span
                >Enjoy unbeatable HD Bluetooth streaming from your phone, tablet or
                computer.</span
              >
            </div>
            <img src="../static/images/Header/zab.jpg" alt="" />
          </a>
          <a
            class="item"
            href="https://3kshop.vn/ifi-ican-phantom-headphone-amplifier-doc-dao-gia-3-700/"
            target="_blank"
          >
            <div class="product-info new">
              <h1>iCAN Phantom</h1>
              <h2>Vanish into the music</h2>
              <span
                >NEW reference-class analogue headphone amp with incorporated
                electrostatic energiser with advanced user interface and network-connected
                control system</span
              >
            </div>
            <img src="../static/images/Header/iFi-Phantom_0136.jpg" alt="" />
          </a>
        </div>
        <div class="button-placeholder">
          <button id="prev"><</button>
          <button id="next">></button>
        </div>
        <ul class="dots">
          <li class="active"></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>
      <div id="product"></div>
    </div>
    <v-main>
      <!-- <v-app-bar
			elevation="60"
			elevate-on-scroll
			:color="windowScroll ? 'white' : 'black'"
			app
			flat
			clipped-left
			class="d-flex justify-center"
			height="80px"
		>
			<v-card
				width="100vw"
				height="80px"
				class="d-flex align-center justify-space-around"
				:color="windowScroll ? 'white' : 'black'"
				:elevation="windowScroll ? 9 : 0"
			>
				<nuxt-link :to="('/')" class="d-flex align-center">
					<v-img
						height="100px"
						width="160px"
						contain
						:src="(barColor === 'black' || windowScroll) ? '/logo-ploggvn-black.svg' : '/logo-ploggvn-white.svg'"
						class="px-5"
					/>
				</nuxt-link>

				<v-col class="d-md-none align-center justify-end d-flex">
					<v-icon
						:color="(barColor === 'black' || windowScroll) ? 'black' : 'black'"
						class="pa-4"
						size="32"
						@click="drawer = true"
					>
						mdi-menu
					</v-icon>
				</v-col>

				<div class="d-none align-center justify-space-around d-md-flex">
					<v-hover v-for="(list, index) in lists" :key="index" v-slot="{ hover }">
						<v-btn
							:ripple="false"
							text
							plain
							:href="list.link"
							:to="(list.link)"
							:color="hover ? 'cyan lighten-10' : (barColor === 'black' || windowScroll) ? 'black' : 'black'"
							class="no-transition"
						>
							<div class="h7 font-weight-bold text-none">
								{{ list.title }}
							</div>
						</v-btn>
					</v-hover>
				</div>

				<div class="d-md-flex d-none justify-center align-center">
					<kq-button-locale :color="(barColor === 'black' || windowScroll) ? 'black' : 'black'" />
				</div>
			</v-card>
		</v-app-bar> -->
      <Nuxt />
    </v-main>
    <v-footer></v-footer>
  </v-app>
</template>

<script>
// import slider from "../components/slider.vue";
export default {
  // components: { slider },
  name: "DefaultLayout",
  mounted() {
    const list = this.$el.querySelector("#slider .list");
    const items = this.$el.querySelectorAll("#slider .list .item");
    const dots = this.$el.querySelectorAll("#slider .dots li");
    const prev = this.$el.querySelector("#prev");
    const next = this.$el.querySelector("#next");
    let active = 0;
    const countItem = items.length;
    const autoRef = setInterval(() => {
      next.click();
    }, 5000);

    next.onclick = function nextItem() {
      if (active + 1 >= countItem) {
        active = 0;
      } else {
        active = active + 1;
      }
      reloadSlide();
    };

    prev.onclick = function prevItem() {
      if (active - 1 < 0) {
        active = countItem - 1;
      } else {
        active = active - 1;
      }
      reloadSlide();
    };

    dots.forEach((li, key) => {
      li.addEventListener("click", function () {
        active = key;
        reloadSlide();
      });
    });

    function reloadSlide() {
      items.forEach((item, index) => {
        if (index === active) {
          item.classList.add("active");
        } else {
          item.classList.remove("active");
        }
      });

      const activeDot = this.$el.querySelector("#slider .dots li.active");
      activeDot.classList.remove("active");
      dots[active].classList.add("active");
    }

    const proList = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .product-list"
    );
    const toolList = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .tool-box"
    );
    const supList = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .support-box"
    );

    const proMenu = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .product-list .dropdown-menu"
    );
    const toolMenu = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .tool-box .dropdown-menu"
    );
    const supMenu = this.$el.querySelector(
      "#header .header-bar .navigation-placeholder .support-box .dropdown-menu"
    );

    const dropCheck = this.$el.querySelector(
      "#header .header-bar .logo-placeholder .dropbtn"
    );
    const nav = this.$el.querySelector("#header .header-bar .navigation-placeholder");

    proList.onclick = function () {
      if (proMenu.classList.contains("active")) {
        proMenu.classList.remove("active");
      } else {
        proMenu.classList.add("active");
      }
    };

    toolList.onclick = function () {
      if (toolMenu.classList.contains("active")) {
        toolMenu.classList.remove("active");
      } else {
        toolMenu.classList.add("active");
      }
    };

    supList.onclick = function () {
      if (supMenu.classList.contains("active")) {
        supMenu.classList.remove("active");
      } else {
        supMenu.classList.add("active");
      }
    };

    dropCheck.onclick = function () {
      if (nav.classList.contains("show")) {
        nav.classList.remove("show");
        proMenu.classList.remove("active");
        toolMenu.classList.remove("active");
        supMenu.classList.remove("active");
      } else {
        nav.classList.add("show");
      }
    };
  },
};
</script>
<style>
body {
  overflow-x: hidden;
}

#header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;
}

.header-bar {
  width: 100%;
  padding: 10px 50px;
  display: flex;
  background-color: rgba(255, 255, 255);
}

.logo-placeholder {
  width: 10%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.logo-placeholder img {
  object-fit: cover;
}

.navigation-placeholder {
  width: 90%;
  display: flex;
  align-items: center;
  color: #ff5c23;
  justify-content: right;
  gap: 100px;
}

.navigation-placeholder .product-list,
.navigation-placeholder .tool-box,
.navigation-placeholder .support-box {
  position: relative;
  cursor: pointer;
}

/* .navigation-placeholder .product-list{
  display: flex;
  align-items: center;
  justify-content: space-around;
  width: 70%;
}
.navigation-placeholder .product-list a{
  color: #ff5c23;
  text-decoration: none;
} */

.navigation-placeholder .dropdown-menu {
  display: flex;
  flex-direction: column;
  visibility: hidden;
  position: absolute;
  min-width: 240px;
  left: -94px;
  padding: 10px;
  font-size: 20px;
  gap: 10px;
  background: white;
  border-radius: 0 0 15px 15px;
  opacity: 0;
  transition: 0.5s;
  padding-top: 20px;
  box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px,
    rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
}

.navigation-placeholder .dropdown-menu a {
  text-decoration: none;
  color: black;
  border-radius: 10px;
  padding-left: 10px;
  gap: 5px;
  display: flex;
  align-items: center;
}

.navigation-placeholder .dropdown-menu a:hover {
  background-color: #ff5c23;
  color: white;
}

.navigation-placeholder .product-list .dropdown-menu {
  left: -25px;
}

.navigation-placeholder .support-box .dropdown-menu {
  left: -150px;
}

.navigation-placeholder .product-list:hover .dropdown-menu,
.navigation-placeholder .tool-box:hover .dropdown-menu,
.navigation-placeholder .support-box:hover .dropdown-menu {
  visibility: visible;
  opacity: 1;
}

.navigation-placeholder .account a {
  text-decoration: none;
  color: #ff5c23;
}

main {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
}

#slider {
  overflow-x: hidden;
}

.list {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  display: flex;
  transition: opacity 1.5s;
}

.list .item {
  /* display: none; */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 1.5s;
}

.list .item.active {
  display: block;
  opacity: 1;
  z-index: 5;
}

.list img {
  width: 100vw;
  height: 100vh;
  max-width: 100vw;
  object-fit: cover;
}

.list .item .slogan-placeholder {
  position: absolute;
  width: 50vw;
  top: 30%;
  left: 25vw;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.list .item .slogan-placeholder h1 {
  color: #ff5c23;
  font-size: 30px;
  margin-bottom: 15px;
}

.list .item .slogan-placeholder span {
  font-size: 18px;
  margin-bottom: 30px;
}

.list .item .take-tour-button {
  padding: 10px 50px;
  border-radius: 50px;
  border: 3px solid #ff5c23;
  cursor: pointer;
  background-color: white;
  color: #ff5c23;
  font-weight: bold;
  font-size: 20px;
}

.list .item .take-tour-button a {
  text-decoration: none;
}

.list .item .product-info {
  position: absolute;
  min-width: 44vw;
  bottom: 20%;
  left: 8vw;
  display: flex;
  color: white;
  flex-direction: column;
  border-left: 8px solid #ff5c23;
  padding-left: 16px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
}

.list .item .product-info h1 {
  font-size: calc(30px + 2vw);
}

.list .item .product-info h2 {
  font-size: 30px;
}

.list .item .product-info span {
  font-size: 24px;
}

.list .item .sale::before {
  content: "Save";
  border-radius: 20px;
  width: 50px;
  padding: 5px 10px;
  font-size: 20px;
  font-weight: 700;
  background-color: #ff5c23;
  color: white;
  text-align: center;
}

.list .item .new::before {
  content: "New";
  border-radius: 20px;
  width: 50px;
  padding: 5px 10px;
  font-size: 20px;
  font-weight: 700;
  background-color: #ff5c23;
  color: white;
  text-align: center;
}

.button-placeholder {
  position: absolute;
  top: 45%;
  left: 2%;
  width: 96%;
  display: flex;
  justify-content: space-between;
}

.button-placeholder button {
  height: 50px;
  width: 50px;
  border-radius: 50%;
  background-color: transparent;
  border: none;
  font-family: monospace;
  font-weight: bold;
  font-size: 30px;
  transition: 0.3s;
  z-index: 6;
}

.button-placeholder button:hover {
  background-color: rgba(143, 143, 143, 0.568);
  color: white;
}

.dots {
  position: absolute;
  bottom: 5px;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  z-index: 7;
}

.dots li {
  list-style: none;
  width: 10px;
  height: 10px;
  background-color: rgba(143, 143, 143, 0.568);
  border-radius: 20px;
  margin: 10px;
  transition: 1s;
}

.dots li.active {
  width: 30px;
  background-color: #ff5c23;
}
</style>
